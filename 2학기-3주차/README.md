# KBS 뉴스 크롤링 프로젝트

## 프로젝트 개요
KBS 뉴스 사이트에서 주요 헤드라인을 크롤링하고, 보너스 과제로 다양한 사이트의 정보를 수집하는 프로그램입니다.

## 파일 구성
- `crawling_KBS.py`: KBS 뉴스 크롤링 메인 프로그램
- `multi_site_crawler.py`: 다양한 사이트 크롤링 프로그램 (보너스)
- `requirements.txt`: 필요한 라이브러리 목록
- `README.md`: 프로젝트 설명 및 실행 방법

## 필요한 라이브러리 설치

### 1. 가상환경 생성 및 활성화
```bash
# 2학기-3주차 디렉토리로 이동
cd /Users/heoeunjin/Desktop/github/코디세이/ia-codyssey/2학기-3주차

# 가상환경 생성
python3 -m venv venv

# 가상환경 활성화 (macOS/Linux)
source venv/bin/activate

# 가상환경 활성화 (Windows)
# venv\Scripts\activate
```

### 2. 필요한 라이브러리 설치
```bash
# requests와 beautifulsoup4 설치
pip install requests beautifulsoup4

# 또는 requirements.txt 사용
pip install -r requirements.txt
```

## 실행 방법

### 1. KBS 뉴스 크롤링 실행
```bash
# 가상환경이 활성화된 상태에서
python3 crawling_KBS.py
```

**예상 출력:**
```
KBS 뉴스 크롤링을 시작합니다...
크롤링 시간: 2024-09-18 08:30:00
============================================================
크롤링 중: http://news.kbs.co.kr/news/list.do?mcd=0001
  - 5개 헤드라인 발견
크롤링 중: http://news.kbs.co.kr/news/list.do?mcd=0002
  - 3개 헤드라인 발견
크롤링 중: http://news.kbs.co.kr/news/list.do?mcd=0003
  - 4개 헤드라인 발견
크롤링 중: http://news.kbs.co.kr/news/list.do?mcd=0004
  - 6개 헤드라인 발견

📰 KBS 뉴스 헤드라인
============================================================
 1. 정부, 내년 예산안 국회 제출... 총 656조원 규모
    링크: http://news.kbs.co.kr/news/view.do?ncd=1234567

 2. 코로나19 신규 확진자 1만2천명... 전일 대비 감소
    링크: http://news.kbs.co.kr/news/view.do?ncd=1234568

 3. 부동산 시장 안정화 정책 발표... 투기 억제 강화
    링크: http://news.kbs.co.kr/news/view.do?ncd=1234569

총 18개의 헤드라인을 가져왔습니다.
```

### 2. 다양한 사이트 크롤링 실행 (보너스)
```bash
python3 multi_site_crawler.py
```

**예상 출력:**
```
🚀 다양한 사이트 크롤링을 시작합니다...
시작 시간: 2024-09-18 08:35:00
🌤️ 날씨 정보 크롤링 중...
📈 주식 정보 크롤링 중...
📰 네이버 뉴스 크롤링 중...
🎥 유튜브 인기 동영상 크롤링 중...

============================================================
📊 크롤링 결과 종합
============================================================

🌤️ 날씨 정보:
  1. 서울 오늘 최고 25도, 내일 흐림
  2. 전국 대부분 지역 맑음
  3. 제주도 소나기 예상

📈 주식 정보:
  1. KOSPI 2,450.12 (+15.67)
  2. KOSDAQ 850.45 (+8.23)
  3. 삼성전자 68,500원 (+1,200)

📰 네이버 뉴스:
  1. 정부, 내년 예산안 국회 제출
  2. 코로나19 신규 확진자 감소세
  3. 부동산 정책 발표

🎥 유튜브 인기 동영상:
  1. 새로운 기술 트렌드 분석
  2. 요리 레시피 모음
  3. 여행 브이로그

============================================================
크롤링 완료 시간: 2024-09-18 08:35:30
```

## 테스트 방법

### 1. 기본 기능 테스트
```bash
# KBS 뉴스 크롤링 테스트
python3 crawling_KBS.py

# 출력 확인사항:
# - 크롤링 시작 메시지
# - 각 URL별 헤드라인 개수
# - 최종 헤드라인 목록
# - 링크 정보
```

### 2. 오류 처리 테스트
```bash
# 네트워크 연결 없이 실행 (오류 처리 확인)
# 인터넷 연결을 끊고 실행해보세요
python3 crawling_KBS.py
```

### 3. 보너스 기능 테스트
```bash
# 다양한 사이트 크롤링 테스트
python3 multi_site_crawler.py

# 출력 확인사항:
# - 각 사이트별 크롤링 진행 상황
# - 날씨, 주식, 뉴스, 동영상 정보
# - 오류 처리 메시지
```

## 문제 해결

### 1. 라이브러리 설치 오류
```bash
# pip 업그레이드
pip install --upgrade pip

# 개별 설치
pip install requests
pip install beautifulsoup4
```

### 2. 네트워크 연결 오류
- 인터넷 연결 상태 확인
- 방화벽 설정 확인
- 프록시 설정 확인

### 3. 크롤링 결과가 없는 경우
- 웹사이트 구조 변경 가능성
- CSS 선택자 업데이트 필요
- User-Agent 헤더 확인

## 코드 특징

### 1. PEP 8 준수
- 함수명: `snake_case` 사용
- 클래스명: `CapWord` 방식
- 들여쓰기: 공백 4개
- 문자열: 작은따옴표 기본 사용

### 2. 오류 처리
- `try-except` 구문으로 예외 처리
- 네트워크 오류, 파싱 오류 대응
- 사용자 친화적인 오류 메시지

### 3. 효율적인 코드
- 반복문 최소화
- `if-else` 문 최소 사용
- 리스트 컴프리헨션 활용
- 중복 제거 로직

### 4. 확장성
- 클래스 기반 설계
- 모듈화된 함수 구조
- 새로운 사이트 추가 용이

## 주의사항

1. **웹사이트 정책 준수**: robots.txt 확인 및 크롤링 정책 준수
2. **서버 부하 방지**: 요청 간격 조절 (time.sleep 사용)
3. **개인정보 보호**: 개인정보 수집 금지
4. **저작권 준수**: 콘텐츠 사용 시 저작권 확인

## 추가 개선 사항

1. **데이터베이스 저장**: 크롤링 결과를 DB에 저장
2. **스케줄링**: 정기적인 크롤링 실행
3. **이메일 알림**: 중요한 뉴스 이메일 발송
4. **웹 인터페이스**: 크롤링 결과를 웹에서 확인
5. **로그 시스템**: 크롤링 로그 기록 및 관리
